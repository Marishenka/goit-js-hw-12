{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://pixabay.com';\nconst endPoint = '/api';\n\nexport function getImg(searchName) {\n  const params = new URLSearchParams({\n    key: '48962354-d02229266f1321f72919e6f30',\n    q: searchName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${baseUrl}${endPoint}?${params}`;\n\n  return axios.get(url, {\n    validateStatus: status => status < 500,\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet lightbox;\nconst gallery = document.querySelector('.gallery');\n\nexport function showGLR(arrPict) {\n  gallery.innerHTML = '';\n\n  const markup = arrPict\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n            <a class='gallery-link' href=\"${image.largeImageURL}\">\n              <img class=\"li-img\"\n              src=\"${image.webformatURL}\" \n              alt=\"${image.tags}\"/> \n              <div class=\"li-text\">\n                <table class=\"table\">\n                    <tr><td>Likes</td><td>Views</td><td>Comment</td><td>Downloads</td></tr>\n                    <tr><td>${image.likes}</td><td>${image.views}</td><td>${image.comments}</td><td>${image.downloads}</td></tr>\n                </table>\n              </div>\n            </a>\n        </li>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showErrorMessage() {\n  clearGallery();\n  iziToast.show({\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: 'white',\n    backgroundColor: '#EF4040',\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImg } from './js/pixabay-api';\nimport { showGLR, showErrorMessage } from './js/render-functions';\n\nexport const form = document.querySelector('.form');\nconst input = document.querySelector('.input-search');\nconst waitMsg = document.querySelector('.wait-msg');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const searchText = input.value.trim();\n  if (!searchText) {\n    showErrorToast('Input search string');\n    return;\n  }\n\n  input.value = '';\n  showLoader();\n\n  getImg(searchText)\n    .then(response => {\n      if (!response.data || !Array.isArray(response.data.hits)) {\n        throw new Error('Unexpected API response');\n      }\n      handleSearchResults(response.data.hits);\n    })\n    .catch(error => {\n      console.error(error);\n      showErrorToast('Failed to load images. Try again later.');\n    })\n    .finally(hideLoader);\n}\n\nfunction handleSearchResults(images) {\n  if (!images.length) {\n    showErrorMessage();\n    return;\n  }\n  showGLR(images);\n}\n\nfunction showLoader() {\n  waitMsg.innerHTML = 'Loading... <span class=\"loader\"></span>';\n}\n\nfunction hideLoader() {\n  waitMsg.textContent = '';\n}\n\nfunction showErrorToast(message) {\n  iziToast.show({\n    backgroundColor: '#EF4040',\n    messageColor: '#fff',\n    close: true,\n    position: 'topRight',\n    title: 'Error',\n    titleColor: '#fff',\n    titleSize: '16px',\n    message,\n  });\n}\n"],"names":["baseUrl","endPoint","getImg","searchName","params","url","axios","status","lightbox","gallery","showGLR","arrPict","markup","image","SimpleLightbox","clearGallery","showErrorMessage","iziToast","form","input","waitMsg","handleSubmit","e","searchText","showErrorToast","showLoader","response","handleSearchResults","error","hideLoader","images","message"],"mappings":"owBAEA,MAAMA,EAAU,sBACVC,EAAW,OAEV,SAASC,EAAOC,EAAY,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKE,EAAM,GAAGL,CAAO,GAAGC,CAAQ,IAAIG,CAAM,GAE3C,OAAOE,EAAM,IAAID,EAAK,CACpB,eAAgBE,GAAUA,EAAS,GACvC,CAAG,CACH,CCdA,IAAIC,EACJ,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAQC,EAAS,CAC/BF,EAAQ,UAAY,GAEpB,MAAMG,EAASD,EACZ,IACCE,GACE;AAAA,4CACoCA,EAAM,aAAa;AAAA;AAAA,qBAE1CA,EAAM,YAAY;AAAA,qBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,8BAIDA,EAAM,KAAK,YAAYA,EAAM,KAAK,YAAYA,EAAM,QAAQ,YAAYA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAKhH,EACA,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,aAAcG,CAAM,EAE1CJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIM,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC7BN,EAAQ,UAAY,EACtB,CAEO,SAASO,GAAmB,CACjCD,IACAE,EAAS,KAAK,CACZ,SAAU,WACV,QACE,2EACF,aAAc,QACd,gBAAiB,SACrB,CAAG,CACH,CClDO,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMC,EAAaJ,EAAM,MAAM,KAAI,EACnC,GAAI,CAACI,EAAY,CACfC,EAAe,qBAAqB,EACpC,MACD,CAEDL,EAAM,MAAQ,GACdM,IAEAvB,EAAOqB,CAAU,EACd,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,MAAQ,CAAC,MAAM,QAAQA,EAAS,KAAK,IAAI,EACrD,MAAM,IAAI,MAAM,yBAAyB,EAE3CC,EAAoBD,EAAS,KAAK,IAAI,CAC5C,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBJ,EAAe,yCAAyC,CAC9D,CAAK,EACA,QAAQK,CAAU,CACvB,CAEA,SAASF,EAAoBG,EAAQ,CACnC,GAAI,CAACA,EAAO,OAAQ,CAClBd,IACA,MACD,CACDN,EAAQoB,CAAM,CAChB,CAEA,SAASL,GAAa,CACpBL,EAAQ,UAAY,yCACtB,CAEA,SAASS,GAAa,CACpBT,EAAQ,YAAc,EACxB,CAEA,SAASI,EAAeO,EAAS,CAC/Bd,EAAS,KAAK,CACZ,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,SAAU,WACV,MAAO,QACP,WAAY,OACZ,UAAW,OACX,QAAAc,CACJ,CAAG,CACH"}